{"version":3,"sources":["../../../../src/lib/utils/mime-type-utils.ts"],"names":["DATA_URL_PATTERN","MIME_TYPE_PATTERN","parseMIMEType","mimeString","matches","exec","parseMIMETypeFromURL","url"],"mappings":";;;;;;;AAGA,IAAMA,gBAAgB,GAAG,gCAAzB;AACA,IAAMC,iBAAiB,GAAG,sBAA1B;;AAUO,SAASC,aAAT,CAAuBC,UAAvB,EAAmD;AAExD,MAAMC,OAAO,GAAGH,iBAAiB,CAACI,IAAlB,CAAuBF,UAAvB,CAAhB;;AACA,MAAIC,OAAJ,EAAa;AACX,WAAOA,OAAO,CAAC,CAAD,CAAd;AACD;;AACD,SAAOD,UAAP;AACD;;AAWM,SAASG,oBAAT,CAA8BC,GAA9B,EAAmD;AAExD,MAAMH,OAAO,GAAGJ,gBAAgB,CAACK,IAAjB,CAAsBE,GAAtB,CAAhB;;AACA,MAAIH,OAAJ,EAAa;AACX,WAAOA,OAAO,CAAC,CAAD,CAAd;AACD;;AACD,SAAO,EAAP;AACD","sourcesContent":["// TODO - build/integrate proper MIME type parsing\n// https://mimesniff.spec.whatwg.org/\n\nconst DATA_URL_PATTERN = /^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/;\nconst MIME_TYPE_PATTERN = /^([-\\w.]+\\/[-\\w.+]+)/;\n\n/**\n * Remove extra data like `charset` from MIME types\n * @param mimeString\n * @returns A clean MIME type, or an empty string\n *\n * @todo - handle more advanced MIMETYpes, multiple types\n * @todo - extract charset etc\n */\nexport function parseMIMEType(mimeString: string): string {\n  // If resource is a data url, extract any embedded mime type\n  const matches = MIME_TYPE_PATTERN.exec(mimeString);\n  if (matches) {\n    return matches[1];\n  }\n  return mimeString;\n}\n\n/**\n * Extract MIME type from data URL\n *\n * @param mimeString\n * @returns A clean MIME type, or an empty string\n *\n * @todo - handle more advanced MIMETYpes, multiple types\n * @todo - extract charset etc\n */\nexport function parseMIMETypeFromURL(url: string): string {\n  // If resource is a data URL, extract any embedded mime type\n  const matches = DATA_URL_PATTERN.exec(url);\n  if (matches) {\n    return matches[1];\n  }\n  return '';\n}\n"],"file":"mime-type-utils.js"}