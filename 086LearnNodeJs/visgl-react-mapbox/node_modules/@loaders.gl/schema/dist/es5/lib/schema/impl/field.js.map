{"version":3,"sources":["../../../../../src/lib/schema/impl/field.ts"],"names":["Field","name","type","nullable","metadata","Map","typeId","other"],"mappings":";;;;;;;;;;;;;;;IAQqBA,K;AAMnB,iBACEC,IADF,EAEEC,IAFF,EAKE;AAAA,QAFAC,QAEA,uEAFW,KAEX;AAAA,QADAC,QACA,uEADgC,IAAIC,GAAJ,EAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,SAAKJ,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACD;;;;SAED,eAAqB;AACnB,aAAO,KAAKF,IAAL,IAAa,KAAKA,IAAL,CAAUI,MAA9B;AACD;;;WAED,iBAAe;AACb,aAAO,IAAIN,KAAJ,CAAU,KAAKC,IAAf,EAAqB,KAAKC,IAA1B,EAAgC,KAAKC,QAArC,EAA+C,KAAKC,QAApD,CAAP;AACD;;;WAED,mBAAUG,KAAV,EAAgC;AAC9B,aACE,KAAKN,IAAL,KAAcM,KAAK,CAACN,IAApB,IACA,KAAKC,IAAL,KAAcK,KAAK,CAACL,IADpB,IAEA,KAAKC,QAAL,KAAkBI,KAAK,CAACJ,QAFxB,IAGA,KAAKC,QAAL,KAAkBG,KAAK,CAACH,QAJ1B;AAMD;;;WAED,oBAAmB;AACjB,uBAAU,KAAKF,IAAf,SAAsB,KAAKC,QAAL,GAAgB,YAAhB,GAA+B,EAArD,SACE,KAAKC,QAAL,yBAA+B,KAAKA,QAApC,IAAiD,EADnD;AAGD","sourcesContent":["import {DataType} from './type';\n\n/**\n * ArrowJS `Field` API-compatible class for row-based tables\n * https://loaders.gl/arrowjs/docs/api-reference/field\n * A field holds name, nullable, and metadata information about a table \"column\"\n * A Schema is essentially a list of fields\n */\nexport default class Field {\n  name: string;\n  type: DataType;\n  nullable: boolean;\n  metadata: Map<string, string>;\n\n  constructor(\n    name: string,\n    type: DataType,\n    nullable = false,\n    metadata: Map<string, string> = new Map()\n  ) {\n    this.name = name;\n    this.type = type;\n    this.nullable = nullable;\n    this.metadata = metadata;\n  }\n\n  get typeId(): number {\n    return this.type && this.type.typeId;\n  }\n\n  clone(): Field {\n    return new Field(this.name, this.type, this.nullable, this.metadata);\n  }\n\n  compareTo(other: this): boolean {\n    return (\n      this.name === other.name &&\n      this.type === other.type &&\n      this.nullable === other.nullable &&\n      this.metadata === other.metadata\n    );\n  }\n\n  toString(): string {\n    return `${this.type}${this.nullable ? ', nullable' : ''}${\n      this.metadata ? `, metadata: ${this.metadata}` : ''\n    }`;\n  }\n}\n"],"file":"field.js"}