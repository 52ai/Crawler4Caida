{"version":3,"sources":["../../../../src/lib/parsers/parse-3d-tile-gltf.ts"],"names":["parseGltf3DTile","tile","arrayBuffer","options","context","rotateYtoZ","gltfUpAxis","assetGltfUpAxis","parse","GLTFLoader","gltf"],"mappings":";;;;;;;;;;;;;AAAA;;SAEsBA,e;;;;;+EAAf,iBAA+BC,IAA/B,EAAqCC,WAArC,EAAkDC,OAAlD,EAA2DC,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAILH,YAAAA,IAAI,CAACI,UAAL,GAAkB,IAAlB;AAEAJ,YAAAA,IAAI,CAACK,UAAL,GACEH,OAAO,CAAC,UAAD,CAAP,IAAuBA,OAAO,CAAC,UAAD,CAAP,CAAoBI,eAA3C,GACIJ,OAAO,CAAC,UAAD,CAAP,CAAoBI,eADxB,GAEI,GAHN;AAKOC,YAAAA,KAXF,GAWWJ,OAXX,CAWEI,KAXF;AAAA;AAAA,mBAYaA,KAAK,CAACN,WAAD,EAAcO,gBAAd,EAA0BN,OAA1B,EAAmCC,OAAnC,CAZlB;;AAAA;AAYLH,YAAAA,IAAI,CAACS,IAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import {GLTFLoader} from '@loaders.gl/gltf';\n\nexport async function parseGltf3DTile(tile, arrayBuffer, options, context) {\n  // Set flags\n  // glTF models need to be rotated from Y to Z up\n  // https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification#y-up-to-z-up\n  tile.rotateYtoZ = true;\n  // Save gltf up axis\n  tile.gltfUpAxis =\n    options['3d-tiles'] && options['3d-tiles'].assetGltfUpAxis\n      ? options['3d-tiles'].assetGltfUpAxis\n      : 'Y';\n\n  const {parse} = context;\n  tile.gltf = await parse(arrayBuffer, GLTFLoader, options, context);\n}\n"],"file":"parse-3d-tile-gltf.js"}