{"version":3,"sources":["../../../../../src/lib/parsers/helpers/parse-3d-tile-header.ts"],"names":["SIZEOF_UINT32","parse3DTileHeaderSync","tile","arrayBuffer","byteOffset","view","DataView","magic","getUint32","version","byteLength","Error"],"mappings":"AAGA,MAAMA,aAAa,GAAG,CAAtB;AASA,OAAO,SAASC,qBAAT,CAA+BC,IAA/B,EAAqCC,WAArC,EAAkDC,UAAU,GAAG,CAA/D,EAAkE;AACvE,QAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAaH,WAAb,CAAb;AAEAD,EAAAA,IAAI,CAACK,KAAL,GAAaF,IAAI,CAACG,SAAL,CAAeJ,UAAf,EAA2B,IAA3B,CAAb;AACAA,EAAAA,UAAU,IAAIJ,aAAd;AAEAE,EAAAA,IAAI,CAACO,OAAL,GAAeJ,IAAI,CAACG,SAAL,CAAeJ,UAAf,EAA2B,IAA3B,CAAf;AACAA,EAAAA,UAAU,IAAIJ,aAAd;AAEAE,EAAAA,IAAI,CAACQ,UAAL,GAAkBL,IAAI,CAACG,SAAL,CAAeJ,UAAf,EAA2B,IAA3B,CAAlB;AACAA,EAAAA,UAAU,IAAIJ,aAAd;;AAGA,MAAIE,IAAI,CAACO,OAAL,KAAiB,CAArB,EAAwB;AACtB,UAAM,IAAIE,KAAJ,2BAA6BT,IAAI,CAACO,OAAlC,oBAAN;AACD;;AAED,SAAOL,UAAP;AACD","sourcesContent":["// This file is derived from the Cesium code base under Apache 2 license\n// See LICENSE.md and https://github.com/AnalyticalGraphicsInc/cesium/blob/master/LICENSE.md\n\nconst SIZEOF_UINT32 = 4;\n\n/* PARSE FIXED HEADER:\nPopulates\n  magic, // identifies type of tile\n  type, // String version of magic\n  version,\n  byteLength\n */\nexport function parse3DTileHeaderSync(tile, arrayBuffer, byteOffset = 0) {\n  const view = new DataView(arrayBuffer);\n\n  tile.magic = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  tile.version = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  tile.byteLength = view.getUint32(byteOffset, true);\n  byteOffset += SIZEOF_UINT32;\n\n  // TODO - move version check into each tile parser?\n  if (tile.version !== 1) {\n    throw new Error(`3D Tile Version ${tile.version} not supported`);\n  }\n\n  return byteOffset; // Indicates where the parsing ended\n}\n"],"file":"parse-3d-tile-header.js"}