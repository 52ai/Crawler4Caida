{"version":3,"sources":["../../../src/node/node-asciify-image.ts"],"names":["nodeAsciifyImage","image","message","scale","asciify","module","require","error","data","fit","width","Math","round","console","log"],"mappings":"AAMA,OAAO,SAASA,gBAAT,OAAiF;AAAA,MAAvD;AAACC,IAAAA,KAAD;AAAQC,IAAAA,OAAO,GAAG,EAAlB;AAAsBC,IAAAA,KAAK,GAAG;AAA9B,GAAuD;AAEtF,MAAIC,OAAO,GAAG,IAAd;;AACA,MAAI;AACFA,IAAAA,OAAO,GAAGC,MAAM,CAACC,OAAP,CAAe,eAAf,CAAV;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc,CAEf;;AACD,MAAIH,OAAJ,EAAa;AACX,WAAO,YAAY;AACjB,YAAMI,IAAI,GAAG,MAAMJ,OAAO,CAACH,KAAD,EAAQ;AAACQ,QAAAA,GAAG,EAAE,KAAN;AAAaC,QAAAA,KAAK,YAAKC,IAAI,CAACC,KAAL,CAAW,KAAKT,KAAhB,CAAL;AAAlB,OAAR,CAA1B;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACD,KAHD;AAID;;AAED,SAAO,YAAY,CAAE,CAArB;AACD","sourcesContent":["// probe.gl, MIT license\n// This file \"quarantines\" the dynamic import of asciify-image\n// in a separate source file that can be excluded in browser builds via package.json\n// browser statement. https://github.com/uber-web/probe.gl/issues/196\n\n/** Use the asciify-image module, if installed, to log an image under node.js */\nexport function nodeAsciifyImage({image, message = '', scale = 1}): () => Promise<void> {\n  // Note: Runtime load of the \"asciify-image\" module, avoids including in browser bundles\n  let asciify = null;\n  try {\n    asciify = module.require('asciify-image');\n  } catch (error) {\n    // asciify not installed, silently ignore\n  }\n  if (asciify) {\n    return async () => {\n      const data = await asciify(image, {fit: 'box', width: `${Math.round(80 * scale)}%`});\n      console.log(data); // eslint-disable-line no-console\n    };\n  }\n\n  return async () => {};\n}\n"],"file":"node-asciify-image.js"}