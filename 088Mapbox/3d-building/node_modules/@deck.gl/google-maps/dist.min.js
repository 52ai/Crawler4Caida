!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("luma"),require("deck")):"function"==typeof define&&define.amd?define(["luma","deck"],e):"object"==typeof exports?exports.deck=e(require("luma"),require("deck")):t.deck=e(t.luma,t.deck)}(window,(function(t,e){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=12)}([function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(14);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(7).default,i=r(15);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(e,r){e.exports=t},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){var n=r(13);t.exports=function(t,e){if(null==t)return{};var r,i,o=n(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,r){t.exports=e},function(t,e,r){var n=r(16),i=globalThis.deck||{};if(!i.Layer)throw new Error("@deck.gl/core is not found");t.exports=Object.assign(i,n)},function(t,e){t.exports=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,r(e,n)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,r){"use strict";r.r(e);var n=r(8),i=r.n(n),o=r(9),a=r.n(o),u=r(10),s=r.n(u),c=r(5),h=r.n(c),l=r(6),f=r(11),v=r(1),y=r.n(v),p=r(2),d=r.n(p),k=r(3),g=r.n(k),m=r(4),O=r.n(m),b=r(0),E=r.n(b);r(7);function _(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}Math.PI,Math.PI;var M={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.precision,n=void 0===r?M.precision:r;return t=R(t),"".concat(parseFloat(t.toPrecision(n)))}function w(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function L(t,e,r){var n=M.EPSILON;r&&(M.EPSILON=r);try{if(t===e)return!0;if(w(t)&&w(e)){if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!L(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):"number"==typeof t&&"number"==typeof e&&Math.abs(t-e)<=M.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}finally{M.EPSILON=n}}function R(t){return Math.round(t/M.EPSILON)*M.EPSILON}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E()(t);if(e){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}var S=function(t){g()(r,t);var e=P(r);function r(){return y()(this,r),e.apply(this,arguments)}return d()(r,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=t[r+e];return this.check()}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)t[e+r]=this[r];return t}},{key:"from",value:function(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}},{key:"to",value:function(t){return t===this?this:w(t)?this.toArray(t):this.toObject(t)}},{key:"toTarget",value:function(t){return t?this.to(t):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(M)}},{key:"formatString",value:function(t){for(var e="",r=0;r<this.ELEMENTS;++r)e+=(r>0?", ":"")+x(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!L(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"lerp",value:function(t,e,r){if(void 0===r)return this.lerp(this,t,e);for(var n=0;n<this.ELEMENTS;++n){var i=t[n];this[n]=i+r*(e[n]-i)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),e[r]);return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(t){if("number"==typeof t)for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;else for(var r=0;r<this.ELEMENTS&&r<t.length;++r)this[r]*=t[r];return this.check()}},{key:"multiplyByScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"check",value:function(){if(M.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var t=this.length===this.ELEMENTS,e=0;e<this.ELEMENTS;++e)t=t&&Number.isFinite(this[e]);return t}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"divideScalar",value:function(t){return this.multiplyByScalar(1/t)}},{key:"clampScalar",value:function(t,e){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),e);return this.check()}},{key:"elements",get:function(){return this}}]),r}(function(t){function e(){var e=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}(Array));function j(t,e){if(t.length!==e)return!1;for(var r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function T(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function A(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(M.debug&&!j(t,e))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return t}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E()(t);if(e){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}var C=function(t){g()(r,t);var e=N(r);function r(){return y()(this,r),e.apply(this,arguments)}return d()(r,[{key:"x",get:function(){return this[0]},set:function(t){this[0]=T(t)}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=T(t)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-t[r];e+=n*n}return T(e)}},{key:"dot",value:function(t){for(var e=0,r=0;r<this.ELEMENTS;++r)e+=this[r]*t[r];return T(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return _(t>=0&&t<this.ELEMENTS,"index is out of range"),T(this[t])}},{key:"setComponent",value:function(t,e){return _(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}]),r}(S),D="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function W(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var I,q;I=new D(2),D!=Float32Array&&(I[0]=0,I[1]=0),q=I;function V(t,e,r){var n=e[0],i=e[1],o=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/o,t[1]=(r[1]*n+r[5]*i)/o,t}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E()(t);if(e){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}var F=function(t){g()(r,t);var e=B(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return y()(this,r),t=e.call(this,2),w(n)&&1===arguments.length?t.copy(n):(M.debug&&(T(n),T(i)),t[0]=n,t[1]=i),t}return d()(r,[{key:"set",value:function(t,e){return this[0]=t,this[1]=e,this.check()}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this.check()}},{key:"fromObject",value:function(t){return M.debug&&(T(t.x),T(t.y)),this[0]=t.x,this[1]=t.y,this.check()}},{key:"toObject",value:function(t){return t.x=this[0],t.y=this[1],t}},{key:"ELEMENTS",get:function(){return 2}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(t){return this.transformAsPoint(t)}},{key:"transformAsPoint",value:function(t){return W(this,this,t),this.check()}},{key:"transformAsVector",value:function(t){return V(this,this,t),this.check()}},{key:"transformByMatrix3",value:function(t){return function(t,e,r){var n=e[0],i=e[1];t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7]}(this,this,t),this.check()}},{key:"transformByMatrix2x3",value:function(t){return function(t,e,r){var n=e[0],i=e[1];t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5]}(this,this,t),this.check()}},{key:"transformByMatrix2",value:function(t){return function(t,e,r){var n=e[0],i=e[1];t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i}(this,this,t),this.check()}}]),r}(C);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E()(t);if(e){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}var K=function(t){g()(r,t);var e=z(r);function r(){return y()(this,r),e.apply(this,arguments)}return d()(r,[{key:"toString",value:function(){var t="[";if(M.printRowMajor){t+="row-major:";for(var e=0;e<this.RANK;++e)for(var r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+e])}else{t+="column-major:";for(var n=0;n<this.ELEMENTS;++n)t+=" ".concat(this[n])}return t+="]"}},{key:"getElementIndex",value:function(t,e){return e*this.RANK+t}},{key:"getElement",value:function(t,e){return this[e*this.RANK+t]}},{key:"setElement",value:function(t,e,r){return this[e*this.RANK+t]=T(r),this}},{key:"getColumn",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=t*this.RANK,n=0;n<this.RANK;++n)e[n]=this[r+n];return e}},{key:"setColumn",value:function(t,e){for(var r=t*this.RANK,n=0;n<this.RANK;++n)this[r+n]=e[n];return this}}]),r}(S);function Z(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],h=e[7],l=e[8],f=e[9],v=e[10],y=e[11],p=e[12],d=e[13],k=e[14],g=e[15],m=r[0],O=r[1],b=r[2],E=r[3];return t[0]=m*n+O*u+b*l+E*p,t[1]=m*i+O*s+b*f+E*d,t[2]=m*o+O*c+b*v+E*k,t[3]=m*a+O*h+b*y+E*g,m=r[4],O=r[5],b=r[6],E=r[7],t[4]=m*n+O*u+b*l+E*p,t[5]=m*i+O*s+b*f+E*d,t[6]=m*o+O*c+b*v+E*k,t[7]=m*a+O*h+b*y+E*g,m=r[8],O=r[9],b=r[10],E=r[11],t[8]=m*n+O*u+b*l+E*p,t[9]=m*i+O*s+b*f+E*d,t[10]=m*o+O*c+b*v+E*k,t[11]=m*a+O*h+b*y+E*g,m=r[12],O=r[13],b=r[14],E=r[15],t[12]=m*n+O*u+b*l+E*p,t[13]=m*i+O*s+b*f+E*d,t[14]=m*o+O*c+b*v+E*k,t[15]=m*a+O*h+b*y+E*g,t}var X=function(t,e,r,n,i){var o,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(n-i),t[10]=(i+n)*o,t[14]=2*i*n*o):(t[10]=-1,t[14]=-2*n),t};var G=function(t,e,r,n,i,o,a){var u=1/(e-r),s=1/(n-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(i+n)*s,t[14]=(a+o)*c,t[15]=1,t};!function(){var t=function(){var t=new D(3);return D!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();var Y;!function(){var t=function(){var t=new D(4);return D!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}()}();function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=E()(t);if(e){var i=E()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O()(this,r)}}!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"}(Y||(Y={}));var U,Q,J=45*Math.PI/180,$=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),tt=function(t){g()(r,t);var e=H(r);function r(t){var n;return y()(this,r),n=e.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?n.copy(t):n.identity(),n}return d()(r,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return Y}},{key:"copy",value:function(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}},{key:"set",value:function(t,e,r,n,i,o,a,u,s,c,h,l,f,v,y,p){return this[0]=t,this[1]=e,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=u,this[8]=s,this[9]=c,this[10]=h,this[11]=l,this[12]=f,this[13]=v,this[14]=y,this[15]=p,this.check()}},{key:"setRowMajor",value:function(t,e,r,n,i,o,a,u,s,c,h,l,f,v,y,p){return this[0]=t,this[1]=i,this[2]=s,this[3]=f,this[4]=e,this[5]=o,this[6]=c,this[7]=v,this[8]=r,this[9]=a,this[10]=h,this[11]=y,this[12]=n,this[13]=u,this[14]=l,this[15]=p,this.check()}},{key:"toRowMajor",value:function(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}},{key:"identity",value:function(){return this.copy($)}},{key:"fromObject",value:function(t){return this.check()}},{key:"fromQuaternion",value:function(t){return function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,u=n+n,s=i+i,c=r*a,h=n*a,l=n*u,f=i*a,v=i*u,y=i*s,p=o*a,d=o*u,k=o*s;t[0]=1-l-y,t[1]=h+k,t[2]=f-d,t[3]=0,t[4]=h-k,t[5]=1-c-y,t[6]=v+p,t[7]=0,t[8]=f+d,t[9]=v-p,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this.check()}},{key:"frustum",value:function(t){var e=t.left,r=t.right,n=t.bottom,i=t.top,o=t.near,a=void 0===o?.1:o,u=t.far,s=void 0===u?500:u;return s===1/0?function(t,e,r,n,i,o){var a=2*o/(r-e),u=2*o/(i-n),s=(r+e)/(r-e),c=(i+n)/(i-n),h=-2*o;t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=s,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=h,t[15]=0}(this,e,r,n,i,a):function(t,e,r,n,i,o,a){var u=1/(r-e),s=1/(i-n),c=1/(o-a);t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(i+n)*s,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0}(this,e,r,n,i,a,s),this.check()}},{key:"lookAt",value:function(t){var e=t.eye,r=t.center,n=void 0===r?[0,0,0]:r,i=t.up;return function(t,e,r,n){var i,o,a,u,s,c,h,l,f,v,y=e[0],p=e[1],d=e[2],k=n[0],g=n[1],m=n[2],O=r[0],b=r[1],E=r[2];Math.abs(y-O)<1e-6&&Math.abs(p-b)<1e-6&&Math.abs(d-E)<1e-6?function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(t):(h=y-O,l=p-b,f=d-E,i=g*(f*=v=1/Math.hypot(h,l,f))-m*(l*=v),o=m*(h*=v)-k*f,a=k*l-g*h,(v=Math.hypot(i,o,a))?(i*=v=1/v,o*=v,a*=v):(i=0,o=0,a=0),u=l*a-f*o,s=f*i-h*a,c=h*o-l*i,(v=Math.hypot(u,s,c))?(u*=v=1/v,s*=v,c*=v):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=h,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*y+o*p+a*d),t[13]=-(u*y+s*p+c*d),t[14]=-(h*y+l*p+f*d),t[15]=1)}(this,e,n,void 0===i?[0,1,0]:i),this.check()}},{key:"ortho",value:function(t){var e=t.left,r=t.right,n=t.bottom,i=t.top,o=t.near,a=void 0===o?.1:o,u=t.far;return G(this,e,r,n,i,a,void 0===u?500:u),this.check()}},{key:"orthographic",value:function(t){var e=t.fovy,r=void 0===e?J:e,n=t.aspect,i=void 0===n?1:n,o=t.focalDistance,a=void 0===o?1:o,u=t.near,s=void 0===u?.1:u,c=t.far,h=void 0===c?500:c;et(r);var l=r/2,f=a*Math.tan(l),v=f*i;return this.ortho({left:-v,right:v,bottom:-f,top:f,near:s,far:h})}},{key:"perspective",value:function(t){var e=t.fovy,r=void 0===e?45*Math.PI/180:e,n=t.aspect,i=void 0===n?1:n,o=t.near,a=void 0===o?.1:o,u=t.far,s=void 0===u?500:u;return et(r),X(this,r,i,a,s),this.check()}},{key:"determinant",value:function(){return e=(t=this)[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],h=t[9],l=t[10],f=t[11],v=t[12],y=t[13],p=t[14],d=t[15],(e*a-r*o)*(l*d-f*p)-(e*u-n*o)*(h*d-f*y)+(e*s-i*o)*(h*p-l*y)+(r*u-n*a)*(c*d-f*v)-(r*s-i*a)*(c*p-l*v)+(n*s-i*u)*(c*y-h*v);var t,e,r,n,i,o,a,u,s,c,h,l,f,v,y,p,d}},{key:"getScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}},{key:"getTranslation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}},{key:"getRotation",value:function(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];var r=this.getScale(e),n=1/r[0],i=1/r[1],o=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*o,t[3]=0,t[4]=this[4]*n,t[5]=this[5]*i,t[6]=this[6]*o,t[7]=0,t[8]=this[8]*n,t[9]=this[9]*i,t[10]=this[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{key:"getRotationMatrix3",value:function(t,e){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],e=e||[-0,-0,-0];var r=this.getScale(e),n=1/r[0],i=1/r[1],o=1/r[2];return t[0]=this[0]*n,t[1]=this[1]*i,t[2]=this[2]*o,t[3]=this[4]*n,t[4]=this[5]*i,t[5]=this[6]*o,t[6]=this[8]*n,t[7]=this[9]*i,t[8]=this[10]*o,t}},{key:"transpose",value:function(){return function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]}(this,this),this.check()}},{key:"invert",value:function(){return function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],h=e[8],l=e[9],f=e[10],v=e[11],y=e[12],p=e[13],d=e[14],k=e[15],g=r*u-n*a,m=r*s-i*a,O=r*c-o*a,b=n*s-i*u,E=n*c-o*u,_=i*c-o*s,M=h*p-l*y,x=h*d-f*y,w=h*k-v*y,L=l*d-f*p,R=l*k-v*p,P=f*k-v*d,S=g*P-m*R+O*L+b*w-E*x+_*M;S&&(S=1/S,t[0]=(u*P-s*R+c*L)*S,t[1]=(i*R-n*P-o*L)*S,t[2]=(p*_-d*E+k*b)*S,t[3]=(f*E-l*_-v*b)*S,t[4]=(s*w-a*P-c*x)*S,t[5]=(r*P-i*w+o*x)*S,t[6]=(d*O-y*_-k*m)*S,t[7]=(h*_-f*O+v*m)*S,t[8]=(a*R-u*w+c*M)*S,t[9]=(n*w-r*R-o*M)*S,t[10]=(y*E-p*O+k*g)*S,t[11]=(l*O-h*E-v*g)*S,t[12]=(u*x-a*L-s*M)*S,t[13]=(r*L-n*x+i*M)*S,t[14]=(p*m-y*b-d*g)*S,t[15]=(h*b-l*m+f*g)*S)}(this,this),this.check()}},{key:"multiplyLeft",value:function(t){return Z(this,t,this),this.check()}},{key:"multiplyRight",value:function(t){return Z(this,this,t),this.check()}},{key:"rotateX",value:function(t){return function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],u=e[6],s=e[7],c=e[8],h=e[9],l=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*n,t[5]=a*i+h*n,t[6]=u*i+l*n,t[7]=s*i+f*n,t[8]=c*i-o*n,t[9]=h*i-a*n,t[10]=l*i-u*n,t[11]=f*i-s*n}(this,this,t),this.check()}},{key:"rotateY",value:function(t){return function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],u=e[2],s=e[3],c=e[8],h=e[9],l=e[10],f=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*n,t[1]=a*i-h*n,t[2]=u*i-l*n,t[3]=s*i-f*n,t[8]=o*n+c*i,t[9]=a*n+h*i,t[10]=u*n+l*i,t[11]=s*n+f*i}(this,this,t),this.check()}},{key:"rotateZ",value:function(t){return function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],u=e[2],s=e[3],c=e[4],h=e[5],l=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*n,t[1]=a*i+h*n,t[2]=u*i+l*n,t[3]=s*i+f*n,t[4]=c*i-o*n,t[5]=h*i-a*n,t[6]=l*i-u*n,t[7]=f*i-s*n}(this,this,t),this.check()}},{key:"rotateXYZ",value:function(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}},{key:"rotateAxis",value:function(t,e){return function(t,e,r,n){var i,o,a,u,s,c,h,l,f,v,y,p,d,k,g,m,O,b,E,_,M,x,w,L,R=n[0],P=n[1],S=n[2],j=Math.hypot(R,P,S);j<1e-6||(R*=j=1/j,P*=j,S*=j,i=Math.sin(r),a=1-(o=Math.cos(r)),u=e[0],s=e[1],c=e[2],h=e[3],l=e[4],f=e[5],v=e[6],y=e[7],p=e[8],d=e[9],k=e[10],g=e[11],m=R*R*a+o,O=P*R*a+S*i,b=S*R*a-P*i,E=R*P*a-S*i,_=P*P*a+o,M=S*P*a+R*i,x=R*S*a+P*i,w=P*S*a-R*i,L=S*S*a+o,t[0]=u*m+l*O+p*b,t[1]=s*m+f*O+d*b,t[2]=c*m+v*O+k*b,t[3]=h*m+y*O+g*b,t[4]=u*E+l*_+p*M,t[5]=s*E+f*_+d*M,t[6]=c*E+v*_+k*M,t[7]=h*E+y*_+g*M,t[8]=u*x+l*w+p*L,t[9]=s*x+f*w+d*L,t[10]=c*x+v*w+k*L,t[11]=h*x+y*w+g*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,this,t,e),this.check()}},{key:"scale",value:function(t){return function(t,e,r){var n=r[0],i=r[1],o=r[2];t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,this,Array.isArray(t)?t:[t,t,t]),this.check()}},{key:"translate",value:function(t){return function(t,e,r){var n,i,o,a,u,s,c,h,l,f,v,y,p=r[0],d=r[1],k=r[2];e===t?(t[12]=e[0]*p+e[4]*d+e[8]*k+e[12],t[13]=e[1]*p+e[5]*d+e[9]*k+e[13],t[14]=e[2]*p+e[6]*d+e[10]*k+e[14],t[15]=e[3]*p+e[7]*d+e[11]*k+e[15]):(n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],h=e[7],l=e[8],f=e[9],v=e[10],y=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=h,t[8]=l,t[9]=f,t[10]=v,t[11]=y,t[12]=n*p+u*d+l*k+e[12],t[13]=i*p+s*d+f*k+e[13],t[14]=o*p+c*d+v*k+e[14],t[15]=a*p+h*d+y*k+e[15])}(this,this,t),this.check()}},{key:"transform",value:function(t,e){return 4===t.length?(A(e=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}(e||[-0,-0,-0,-0],t,this),4),e):this.transformAsPoint(t,e)}},{key:"transformAsPoint",value:function(t,e){var r;switch(t.length){case 2:r=W(e||[-0,-0],t,this);break;case 3:r=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t}(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return A(r,t.length),r}},{key:"transformAsVector",value:function(t,e){var r;switch(t.length){case 2:r=V(e||[-0,-0],t,this);break;case 3:r=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o||1;return t[0]=(r[0]*n+r[4]*i+r[8]*o)/a,t[1]=(r[1]*n+r[5]*i+r[9]*o)/a,t[2]=(r[2]*n+r[6]*i+r[10]*o)/a,t}(e||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return A(r,t.length),r}},{key:"transformPoint",value:function(t,e){return this.transformAsPoint(t,e)}},{key:"transformVector",value:function(t,e){return this.transformAsPoint(t,e)}},{key:"transformDirection",value:function(t,e){return this.transformAsVector(t,e)}},{key:"makeRotationX",value:function(t){return this.identity().rotateX(t)}},{key:"makeTranslation",value:function(t,e,r){return this.identity().translate([t,e,r])}}],[{key:"IDENTITY",get:function(){return function(){Q||(Q=new tt,Object.freeze(Q));return Q}()}},{key:"ZERO",get:function(){return function(){U||(U=new tt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(U));return U}()}}]),r}(K);function et(t){if(t>2*Math.PI)throw Error("expected radians")}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){h()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function it(t,e,r,n){if(r){if(r.userData._googleMap===t)return r;at(r)}var i={click:null,dblclick:null,mousemove:null,mouseout:null},o=new f.Deck(nt(nt({},n),{},{useDevicePixels:!!n.interleaved||n.useDevicePixels,style:n.interleaved?null:{pointerEvents:"none"},parent:ot(e,n.style),initialViewState:{longitude:0,latitude:0,zoom:1},controller:!1})),a=function(e){i[e]=t.addListener(e,(function(t){return function(t,e,r){var n={type:e,offsetCenter:ht(r,t),srcEvent:r};switch(e){case"click":n.tapCount=1,t._onPointerDown(n),t._onEvent(n);break;case"dblclick":n.type="click",n.tapCount=2,t._onEvent(n);break;case"mousemove":n.type="pointermove",t._onPointerMove(n);break;case"mouseout":n.type="pointerleave",t._onPointerMove(n);break;default:return}}(o,e,t)}))};for(var u in i)a(u);return o.userData._googleMap=t,o.userData._eventListeners=i,o}function ot(t,e){var r,n,i=document.createElement("div");(i.style.position="absolute",Object.assign(i.style,e),"getPanes"in t)?null===(r=t.getPanes())||void 0===r||r.overlayLayer.appendChild(i):null===(n=t.getMap())||void 0===n||n.getDiv().appendChild(i);return i}function at(t){var e=t.userData._eventListeners;for(var r in e)e[r]&&e[r].remove();t.finalize()}function ut(t,e){var r=st(t),n=r.width,i=r.height,o=e.getCameraParams(),a=o.center,u=o.heading,s=o.tilt,c=o.zoom,h=i?n/i:1,l=(new tt).perspective({fovy:25*Math.PI/180,aspect:h,near:.75,far:3e14});return{width:n,height:i,viewState:{altitude:.5*l[5],bearing:u,latitude:a.lat(),longitude:a.lng(),pitch:s,projectionMatrix:l,repeat:!0,zoom:c-1}}}function st(t){var e=t.getDiv().firstChild;return{width:e.offsetWidth,height:e.offsetHeight}}function ct(t,e,r){var n=new google.maps.Point(e,r),i=t.fromContainerPixelToLatLng(n);return[i.lng(),i.lat()]}function ht(t,e){if(t.pixel)return t.pixel;var r=e.getViewports()[0].project([t.latLng.lng(),t.latLng.lat()]);return{x:r[0],y:r[1]}}var lt=["width","height","left","top"];function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){h()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var yt=function(){return!1},pt={depthMask:!0,depthTest:!0,blend:!0,blendFunc:[770,771,1,771],blendEquation:32774};function dt(){}var kt={interleaved:!0},gt=function(){function t(e){a()(this,t),h()(this,"props",{}),h()(this,"_map",null),h()(this,"_deck",null),h()(this,"_overlay",null),this.setProps(vt(vt({},kt),e))}return s()(t,[{key:"setMap",value:function(t){var e=this;if(t!==this._map){var r;if(this._map)null===(r=this._overlay)||void 0===r||r.setMap(null),this._map=null;if(t){this._map=t;var n=google.maps.RenderingType.UNINITIALIZED;t.getRenderingType()!==n?this._createOverlay(t):t.addListener("renderingtype_changed",(function(){e._createOverlay(t)}))}}}},{key:"setProps",value:function(t){if(Object.assign(this.props,t),this._deck){if(t.style){var e=this._deck.canvas.parentElement.style;Object.assign(e,t.style),t.style=null}this._deck.setProps(t)}}},{key:"pickObject",value:function(t){return this._deck&&this._deck.pickObject(t)}},{key:"pickMultipleObjects",value:function(t){return this._deck&&this._deck.pickMultipleObjects(t)}},{key:"pickObjects",value:function(t){return this._deck&&this._deck.pickObjects(t)}},{key:"finalize",value:function(){this.setMap(null),this._deck&&(at(this._deck),this._deck=null)}},{key:"_createOverlay",value:function(t){var e=this.props.interleaved,r=google.maps.RenderingType,n=r.VECTOR,i=r.UNINITIALIZED,o=t.getRenderingType();if(o!==i){var a=new(o===n&&google.maps.WebGLOverlayView?google.maps.WebGLOverlayView:google.maps.OverlayView);a instanceof google.maps.WebGLOverlayView?(e?(a.onAdd=dt,a.onContextRestored=this._onContextRestored.bind(this),a.onDraw=this._onDrawVectorInterleaved.bind(this)):(a.onAdd=this._onAdd.bind(this),a.onContextRestored=dt,a.onDraw=this._onDrawVectorOverlay.bind(this)),a.onContextLost=this._onContextLost.bind(this)):(a.onAdd=this._onAdd.bind(this),a.draw=this._onDrawRaster.bind(this)),a.onRemove=this._onRemove.bind(this),this._overlay=a,this._overlay.setMap(t)}}},{key:"_onAdd",value:function(){this._deck=it(this._map,this._overlay,this._deck,this.props)}},{key:"_onContextRestored",value:function(t){var e=this,r=t.gl;if(this._map&&this._overlay){var n=it(this._map,this._overlay,this._deck,vt({gl:r,_customRender:function(){e._overlay&&e._overlay.requestRedraw()}},this.props));this._deck=n;var i=n.animationLoop;i._renderFrame=function(){var t=r.getParameter(34964);Object(l.withParameters)(r,{},(function(){i.onRender()})),r.bindBuffer(34962,t)}}}},{key:"_onContextLost",value:function(){this._deck&&(at(this._deck),this._deck=null)}},{key:"_onRemove",value:function(){var t;null===(t=this._deck)||void 0===t||t.setProps({layerFilter:yt})}},{key:"_onDrawRaster",value:function(){if(this._deck&&this._map){var t=this._deck,e=function(t,e){var r=st(t),n=r.width,i=r.height,o=e.getProjection(),a=t.getBounds();if(!a)return{width:n,height:i,left:0,top:0};var u=a.getNorthEast(),s=a.getSouthWest(),c=o.fromLatLngToDivPixel(u),h=o.fromLatLngToDivPixel(s),l=ct(o,n/2,i/2),f=new google.maps.LatLng(0,l[0]),v=o.fromLatLngToContainerPixel(f),y=o.fromLatLngToDivPixel(f);if(!(c&&h&&y&&v))return{width:n,height:i,left:0,top:0};var p=Math.round(y.x-v.x),d=y.y-v.y,k=ct(o,n/2,0),g=ct(o,n/2,i),m=l[1],O=l[0];if(Math.abs(m)>85.05113){m=m>0?85.05113:-85.05113;var b=new google.maps.LatLng(m,O);d+=o.fromLatLngToContainerPixel(b).y-i/2}d=Math.round(d);var E=180*new F(k).sub(g).verticalAngle()/Math.PI;E<0&&(E+=360);var _,M=t.getHeading()||0,x=t.getZoom()-1;if(0===E)_=i?(h.y-c.y)/i:1;else if(E===M){var w=new F([c.x,c.y]).sub([h.x,h.y]).len(),L=new F([n,-i]).len();_=L?w/L:1}return{width:n,height:i,left:p,top:d,zoom:x+=Math.log2(_||1),bearing:E,pitch:t.getTilt(),latitude:m,longitude:O}}(this._map,this._overlay),r=e.width,n=e.height,o=e.left,a=e.top,u=i()(e,lt),s=t.canvas.parentElement.style;s.left="".concat(o,"px"),s.top="".concat(a,"px");t.setProps({width:r,height:n,viewState:vt({altitude:1e4,repeat:!0},u)}),t.redraw()}}},{key:"_onDrawVectorInterleaved",value:function(t){var e=t.gl,r=t.transformer;if(this._deck&&this._map){var n=this._deck;if(n.setProps(vt(vt({},ut(this._map,r)),{},{width:null,height:null})),n.isInitialized){var i=Object(l.getParameters)(e,36006);n.setProps({_framebuffer:i}),n.needsRedraw({clearRedrawFlags:!0}),Object(l.setParameters)(e,{viewport:[0,0,e.canvas.width,e.canvas.height],scissor:[0,0,e.canvas.width,e.canvas.height],stencilFunc:[519,0,255,519,0,255]}),Object(l.withParameters)(e,pt,(function(){n._drawLayers("google-vector",{clearCanvas:!1})}))}}}},{key:"_onDrawVectorOverlay",value:function(t){var e=t.transformer;if(this._deck&&this._map){var r=this._deck;r.setProps(vt({},ut(this._map,e))),r.redraw()}}}]),t}();r.d(e,"GoogleMapsOverlay",(function(){return gt}))}])}));