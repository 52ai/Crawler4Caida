{"version":3,"sources":["../../../../src/effects/lighting/directional-light.ts"],"names":["DEFAULT_LIGHT_COLOR","DEFAULT_LIGHT_INTENSITY","DEFAULT_LIGHT_DIRECTION","idCount","DirectionalLight","props","color","intensity","direction","_shadow","id","type","Vector3","normalize","toArray","shadow","opts"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAGA,IAAMA,mBAAmB,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAA5B;AACA,IAAMC,uBAAuB,GAAG,GAAhC;AACA,IAAMC,uBAAuB,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,CAAC,GAAZ,CAAhC;AAEA,IAAIC,OAAO,GAAG,CAAd;;IAsBaC,gB;AAQX,8BAAiD;AAAA,QAArCC,KAAqC,uEAAJ,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAJ1C,aAI0C;AAAA;AAAA;AAC/C,uBAAsCA,KAAtC,CAAOC,KAAP;AAAA,QAAOA,KAAP,6BAAeN,mBAAf;AACA,2BAA8CK,KAA9C,CAAOE,SAAP;AAAA,QAAOA,SAAP,iCAAmBN,uBAAnB;AACA,2BAA8CI,KAA9C,CAAOG,SAAP;AAAA,QAAOA,SAAP,iCAAmBN,uBAAnB;;AACA,yBAA0BG,KAA1B,CAAOI,OAAP;AAAA,QAAOA,OAAP,+BAAiB,KAAjB;;AAEA,SAAKC,EAAL,GAAUL,KAAK,CAACK,EAAN,0BAA2BP,OAAO,EAAlC,CAAV;AACA,SAAKG,KAAL,GAAaA,KAAb;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKI,IAAL,GAAY,aAAZ;AACA,SAAKH,SAAL,GAAiB,IAAII,aAAJ,CAAYJ,SAAZ,EAAuBK,SAAvB,GAAmCC,OAAnC,EAAjB;AACA,SAAKC,MAAL,GAAcN,OAAd;AACD;;;;WAED,2BAAkBO,IAAlB,EAA0D;AACxD,aAAO,IAAP;AACD","sourcesContent":["import {Vector3} from '@math.gl/core';\nimport type Layer from '../../lib/layer';\n\nconst DEFAULT_LIGHT_COLOR = [255, 255, 255];\nconst DEFAULT_LIGHT_INTENSITY = 1.0;\nconst DEFAULT_LIGHT_DIRECTION = [0.0, 0.0, -1.0];\n\nlet idCount = 0;\n\nexport type DirectionalLightOptions = {\n  id?: string;\n  /** Light color, [r, g, b] in the 0-255 range\n   * @default [255, 255, 255]\n   */\n  color?: number[];\n  /** Light intensity, higher number is brighter\n   * @default 1.0\n   */\n  intensity?: number;\n  /** Light direction in the common space\n   * @default [0.0, 0.0, -1.0]\n   */\n  direction?: number[];\n  /** (Experimental) render shadows cast by this light\n   * @default false\n   */\n  _shadow?: boolean;\n};\n\nexport class DirectionalLight {\n  id: string;\n  color: number[];\n  intensity: number;\n  type = 'directional';\n  direction: number[];\n  shadow: boolean;\n\n  constructor(props: DirectionalLightOptions = {}) {\n    const {color = DEFAULT_LIGHT_COLOR} = props;\n    const {intensity = DEFAULT_LIGHT_INTENSITY} = props;\n    const {direction = DEFAULT_LIGHT_DIRECTION} = props;\n    const {_shadow = false} = props;\n\n    this.id = props.id || `directional-${idCount++}`;\n    this.color = color;\n    this.intensity = intensity;\n    this.type = 'directional';\n    this.direction = new Vector3(direction).normalize().toArray() as [number, number, number];\n    this.shadow = _shadow;\n  }\n\n  getProjectedLight(opts: {layer: Layer}): DirectionalLight {\n    return this;\n  }\n}\n"],"file":"directional-light.js"}