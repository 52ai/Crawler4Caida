{"version":3,"sources":["../../../../src/effects/lighting/camera-light.ts"],"names":["CameraLight","layer","projectedLight","viewport","context","props","coordinateSystem","coordinateOrigin","modelMatrix","project_uCameraPosition","color","intensity","position","PointLight"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;AACA;;;;;;IAGqBA,W;;;;;;;;;;;;WACnB,iCAAuD;AAAA,UAApCC,KAAoC,QAApCA,KAAoC;AACrD,UAAOC,cAAP,GAAyB,IAAzB,CAAOA,cAAP;AACA,UAAMC,QAAQ,GAAGF,KAAK,CAACG,OAAN,CAAcD,QAA/B;AACA,yBAA0DF,KAAK,CAACI,KAAhE;AAAA,UAAOC,gBAAP,gBAAOA,gBAAP;AAAA,UAAyBC,gBAAzB,gBAAyBA,gBAAzB;AAAA,UAA2CC,WAA3C,gBAA2CA,WAA3C;;AACA,kCAAkC,+CAAwB;AACxDL,QAAAA,QAAQ,EAARA,QADwD;AAExDK,QAAAA,WAAW,EAAXA,WAFwD;AAGxDF,QAAAA,gBAAgB,EAAhBA,gBAHwD;AAIxDC,QAAAA,gBAAgB,EAAhBA;AAJwD,OAAxB,CAAlC;AAAA,UAAOE,uBAAP,yBAAOA,uBAAP;;AAMAP,MAAAA,cAAc,CAACQ,KAAf,GAAuB,KAAKA,KAA5B;AACAR,MAAAA,cAAc,CAACS,SAAf,GAA2B,KAAKA,SAAhC;AACAT,MAAAA,cAAc,CAACU,QAAf,GAA0BH,uBAA1B;AACA,aAAOP,cAAP;AACD;;;EAfsCW,sB","sourcesContent":["/* eslint-disable camelcase */\nimport {PointLight} from './point-light';\nimport {getUniformsFromViewport} from '../../shaderlib/project/viewport-uniforms';\nimport type Layer from '../../lib/layer';\n\nexport default class CameraLight extends PointLight {\n  getProjectedLight({layer}: {layer: Layer}): PointLight {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin, modelMatrix} = layer.props;\n    const {project_uCameraPosition} = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n}\n"],"file":"camera-light.js"}