{"version":3,"file":"vignette.js","names":["fs","uniforms","radius","value","min","max","amount","vignette","name","passes","filter"],"sources":["../../../../src/modules/image-adjust-filters/vignette.js"],"sourcesContent":["/** @typedef {import('../../types').ShaderPass} ShaderPass */\n\nconst fs = `\\\nuniform float radius;\nuniform float amount;\n\nvec4 vignette_filterColor(vec4 color, vec2 texCoord) {\n  float dist = distance(texCoord, vec2(0.5, 0.5));\n  float ratio = smoothstep(0.8, radius * 0.799, dist * (amount + radius));\n  return color.rgba * ratio + (1.0 - ratio)*vec4(0.0, 0.0, 0.0, 1.0);\n}\n\nvec4 vignette_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  return vignette_filterColor(color, texCoord);\n}\n`;\n\nconst uniforms = {\n  radius: {value: 0.5, min: 0, max: 1},\n  amount: {value: 0.5, min: 0, max: 1}\n};\n\n/** @type {ShaderPass} */\nexport const vignette = {\n  name: 'vignette',\n  fs,\n  uniforms,\n  passes: [{filter: true}]\n};\n"],"mappings":"AAEA,MAAMA,EAAE,mbAAR;AAeA,MAAMC,QAAQ,GAAG;EACfC,MAAM,EAAE;IAACC,KAAK,EAAE,GAAR;IAAaC,GAAG,EAAE,CAAlB;IAAqBC,GAAG,EAAE;EAA1B,CADO;EAEfC,MAAM,EAAE;IAACH,KAAK,EAAE,GAAR;IAAaC,GAAG,EAAE,CAAlB;IAAqBC,GAAG,EAAE;EAA1B;AAFO,CAAjB;AAMA,OAAO,MAAME,QAAQ,GAAG;EACtBC,IAAI,EAAE,UADgB;EAEtBR,EAFsB;EAGtBC,QAHsB;EAItBQ,MAAM,EAAE,CAAC;IAACC,MAAM,EAAE;EAAT,CAAD;AAJc,CAAjB"}