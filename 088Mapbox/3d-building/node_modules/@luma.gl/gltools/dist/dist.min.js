!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(14),i=n(15),o=n(10),a=n(16);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";(function(e,r){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u}));var i=n(2),o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document,process:"object"===(void 0===r?"undefined":n.n(i)()(r))&&r},a=(globalThis,o.window||o.self||o.global),u=o.process||{};console}).call(this,n(17),n(8))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(19),i=n(20),o=n(10),a=n(21);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(2),i=n.n(r),o=n(12);function a(){return!("object"===(void 0===e?"undefined":i()(e))&&"[object process]"===String(e)&&!e.browser)||Object(o.a)()}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(2),i=n.n(r);function o(t){if("undefined"!=typeof window&&"object"===i()(window.process)&&"renderer"===window.process.type)return!0;if(void 0!==e&&"object"===i()(e.versions)&&Boolean(e.versions.electron))return!0;var n="object"===("undefined"==typeof navigator?"undefined":i()(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent,r=t||n;return!!(r&&r.indexOf("Electron")>=0)}}).call(this,n(8))},function(e,t,n){var r=n(22);globalThis.luma=globalThis.luma||{},e.exports=Object.assign(globalThis.luma,r)},function(e,t,n){var r=n(9);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t),n.d(t,"log",(function(){return I})),n.d(t,"isWebGL",(function(){return V})),n.d(t,"isWebGL2",(function(){return M})),n.d(t,"getWebGL2Context",(function(){return W})),n.d(t,"assertWebGLContext",(function(){return P})),n.d(t,"assertWebGL2Context",(function(){return N})),n.d(t,"polyfillContext",(function(){return ee})),n.d(t,"getParameters",(function(){return ke})),n.d(t,"setParameters",(function(){return je})),n.d(t,"resetParameters",(function(){return Be})),n.d(t,"withParameters",(function(){return Ce})),n.d(t,"trackContextState",(function(){return Ee})),n.d(t,"pushContextState",(function(){return Oe})),n.d(t,"popContextState",(function(){return Se})),n.d(t,"createGLContext",(function(){return De})),n.d(t,"resizeGLContext",(function(){return ze})),n.d(t,"instrumentGLContext",(function(){return He})),n.d(t,"getContextDebugInfo",(function(){return Ue})),n.d(t,"cssToDeviceRatio",(function(){return Fe})),n.d(t,"cssToDevicePixels",(function(){return Ge}));var r=n(2),i=n.n(r),o=n(1),a=n.n(o),u=n(0),c=n.n(u),s=n(4),l=n.n(s),f=n(5),d=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(11);Object(v.a)();function g(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(e){return null}}var b,p=function(){function e(t){l()(this,e);var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";h(this,"storage",void 0),h(this,"id",void 0),h(this,"config",{}),this.storage=g(r),this.id=t,this.config={},Object.assign(this.config,n),this._loadConfiguration()}return d()(e,[{key:"getConfiguration",value:function(){return this.config}},{key:"setConfiguration",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:"updateConfiguration",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:"_loadConfiguration",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));var o=e.width*n,a=e.height*n,u=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),u]}function m(e){return"string"==typeof e?b[e.toUpperCase()]||b.WHITE:e}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"],r=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(r),o=x(i);try{var a=function(){var r=t.value;"function"==typeof e[r]&&(n.find((function(e){return r===e}))||(e[r]=e[r].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}function _(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(b||(b={}));var E=n(3);function O(){var e,t,n;if(v.a&&"performance"in E.b)e=null===E.b||void 0===E.b||null===(t=E.b.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in E.a){var r,i=null===E.a||void 0===E.a||null===(r=E.a.hrtime)||void 0===r?void 0:r.call(E.a);e=1e3*i[0]+i[1]/1e6}else e=Date.now();return e}var S={debug:v.a&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},L={enabled:!0,level:0};function T(){}var j={},k={once:!0},B=function(){function e(){l()(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""},n=t.id;h(this,"id",void 0),h(this,"VERSION","8.5.15"),h(this,"_startTs",O()),h(this,"_deltaTs",O()),h(this,"_storage",void 0),h(this,"userData",{}),h(this,"LOG_THROTTLE_TIMEOUT",0),this.id=n,this._storage=new p("__probe-".concat(this.id,"__"),L),this.userData={},this.timeStamp("".concat(this.id," started")),w(this),Object.seal(this)}return d()(e,[{key:"level",get:function(){return this.getLevel()},set:function(e){this.setLevel(e)}},{key:"isEnabled",value:function(){return this._storage.config.enabled}},{key:"getLevel",value:function(){return this._storage.config.level}},{key:"getTotal",value:function(){return Number((O()-this._startTs).toPrecision(10))}},{key:"getDelta",value:function(){return Number((O()-this._deltaTs).toPrecision(10))}},{key:"priority",get:function(){return this.level},set:function(e){this.level=e}},{key:"getPriority",value:function(){return this.level}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:"setLevel",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:"get",value:function(e){return this._storage.config[e]}},{key:"set",value:function(e,t){this._storage.updateConfiguration(c()({},e,t))}},{key:"settings",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:"assert",value:function(e,t){_(e,t)}},{key:"warn",value:function(e){return this._getLogFunction(0,e,S.warn,arguments,k)}},{key:"error",value:function(e){return this._getLogFunction(0,e,S.error,arguments)}},{key:"deprecated",value:function(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}},{key:"removed",value:function(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}},{key:"probe",value:function(e,t){return this._getLogFunction(e,t,S.log,arguments,{time:!0,once:!0})}},{key:"log",value:function(e,t){return this._getLogFunction(e,t,S.debug,arguments)}},{key:"info",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:"once",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,S.debug||S.info,arguments,k)}},{key:"table",value:function(e,t,n){return t?this._getLogFunction(e,t,console.table||T,n&&[n],{tag:G(t)}):T}},{key:"image",value:function(e){var t=e.logLevel,r=e.priority,i=e.image,o=e.message,u=void 0===o?"":o,c=e.scale,s=void 0===c?1:c;return this._shouldLog(t||r)?v.a?function(e){var t=e.image,n=e.message,r=void 0===n?"":n,i=e.scale,o=void 0===i?1:i;if("string"==typeof t){var u=new Image;return u.onload=function(){var e,t=y(u,r,o);(e=console).log.apply(e,a()(t))},u.src=t,T}var c=t.nodeName||"";if("img"===c.toLowerCase()){var s;return(s=console).log.apply(s,a()(y(t,r,o))),T}if("canvas"===c.toLowerCase()){var l=new Image;return l.onload=function(){var e;return(e=console).log.apply(e,a()(y(l,r,o)))},l.src=t.toDataURL(),T}return T}({image:i,message:u,scale:s}):function(e){var t=e.image,r=(e.message,e.scale),i=void 0===r?1:r,o=null;try{o=n(18)}catch(e){}if(o)return function(){return o(t,{fit:"box",width:"".concat(Math.round(80*i),"%")}).then((function(e){return console.log(e)}))};return T}({image:i,message:u,scale:s}):T}},{key:"time",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:"timeEnd",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:"timeStamp",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||T)}},{key:"group",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},r=F({logLevel:e,message:t,opts:n}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:"groupCollapsed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}},{key:"groupEnd",value:function(e){return this._getLogFunction(e,"",console.groupEnd||T)}},{key:"withGroup",value:function(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}},{key:"trace",value:function(){console.trace&&console.trace()}},{key:"_shouldLog",value:function(e){return this.isEnabled()&&this.getLevel()>=C(e)}},{key:"_getLogFunction",value:function(e,t,n,r,i){if(this._shouldLog(e)){var o;i=F({logLevel:e,message:t,args:r,opts:i}),_(n=n||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=O();var u=i.tag||i.message;if(i.once){if(j[u])return T;j[u]=O()}return t=function(e,t,n){if("string"==typeof t){var r=n.time?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}((u=n.total)<10?"".concat(u.toFixed(2),"ms"):u<100?"".concat(u.toFixed(1),"ms"):u<1e3?"".concat(u.toFixed(0),"ms"):"".concat((u/1e3).toFixed(2),"s")):"";t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),i=t,o=n.color,a=n.background,v.a||"string"!=typeof i||(o&&(o=m(o),i="[".concat(o,"m").concat(i,"[39m")),a&&(o=m(a),i="[".concat(a+10,"m").concat(i,"[49m"))),t=i}var i,o,a;var u;return t}(this.id,i.message,i),(o=n).bind.apply(o,[console,t].concat(a()(i.args)))}return T}}]),e}();function C(e){if(!e)return 0;var t;switch(i()(e)){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return _(Number.isFinite(t)&&t>=0),t}function F(e){var t=e.logLevel,n=e.message;e.logLevel=C(t);for(var r=e.args?Array.from(e.args):[];r.length&&r.shift()!==n;);switch(i()(t)){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"==typeof e.message&&(e.message=e.message());var o=i()(e.message);return _("string"===o||"object"===o),Object.assign(e,{args:r},e.opts)}function G(e){for(var t in e)for(var n in e[t])return n||"untitled";return"empty"}h(B,"VERSION","8.5.15");var I=new B({id:"luma.gl"});function R(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function V(e){return"undefined"!=typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function M(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function W(e){return M(e)?e:null}function P(e){return R(V(e),"Invalid WebGLRenderingContext"),e}function N(e){return R(M(e),"Requires WebGL2"),e}var D={};function H(e,t){var n;D[e]=!0,void 0!==t&&(n=t,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}var U=function e(t){var n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(var r=0;r<this.attribs.length;r++){var i=new e.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};(U.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};var z,X=function(e){var t=this;this.gl=e,function(e){var t=e.getError;e.getError=function(){var n;do{0!==(n=t.apply(e))&&(D[n]=!0)}while(0!==n);for(n in D)if(D[n])return delete D[n],parseInt(n,10);return 0}}(e);var n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){var r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);var i=r.attribs[e];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){var i=t.currentVertexArrayObject,o=i.attribs[e];switch(r){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,u){var c=t.currentVertexArrayObject;c.maxAttrib=Math.max(c.maxAttrib,e);var s=c.attribs[e];return s.buffer=t.currentArrayBuffer,s.size=r,s.type=i,s.normalized=o,s.stride=a,s.offset=u,s.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(function(){var e;e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(e),t.reset_()}),!0),this.reset_()};X.prototype.VERTEX_ARRAY_BINDING_OES=34229,X.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(var e=0;e<this.vertexArrayObjects.length;++e)this.vertexArrayObjects.isAlive=!1;var t=this.gl;this.maxVertexAttribs=t.getParameter(34921),this.defaultVertexArrayObject=new U(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},X.prototype.createVertexArrayOES=function(){var e=new U(this);return this.vertexArrayObjects.push(e),e},X.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},X.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof U&&e.hasBeenBound&&e.ext===this)},X.prototype.bindVertexArrayOES=function(e){var t=this.gl;if(!e||e.isAlive){var n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;var i=this.currentVertexArrayObject;if(r!==i){r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);for(var o=this.currentArrayBuffer,a=Math.max(r?r.maxAttrib:0,i.maxAttrib),u=0;u<=a;u++){var c=i.attribs[u],s=r?r.attribs[u]:null;if(r&&c.enabled===s.enabled||(c.enabled?n.enableVertexAttribArray.call(t,u):n.disableVertexAttribArray.call(t,u)),c.enabled){var l=!1;r&&c.buffer===s.buffer||(o!==c.buffer&&(n.bindBuffer.call(t,34962,c.buffer),o=c.buffer),l=!0),(l||c.cached!==s.cached)&&n.vertexAttribPointer.call(t,u,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)}}else H(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject")};var q,Y=function(e){return M(e)?void 0:0},K=(z={},c()(z,3074,(function(e){return M(e)?void 0:36064})),c()(z,35723,(function(e){return M(e)?void 0:4352})),c()(z,35977,Y),c()(z,32937,Y),c()(z,36795,(function(e,t){var n=M(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0})),c()(z,37445,(function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)})),c()(z,37446,(function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)})),c()(z,34047,(function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1})),c()(z,32883,Y),c()(z,35071,Y),c()(z,37447,Y),c()(z,36063,(function(e,t){if(!M(e)){var n=e.getExtension("WEBGL_draw_buffers");return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}})),c()(z,35379,Y),c()(z,35374,Y),c()(z,35377,Y),c()(z,34852,(function(e){if(!M(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}})),c()(z,36203,(function(e){return e.getExtension("OES_element_index")?2147483647:65535})),c()(z,33001,(function(e){return e.getExtension("OES_element_index")?16777216:65535})),c()(z,33e3,(function(e){return 16777216})),c()(z,37157,Y),c()(z,35373,Y),c()(z,35657,Y),c()(z,36183,Y),c()(z,37137,Y),c()(z,34045,Y),c()(z,35978,Y),c()(z,35979,Y),c()(z,35968,Y),c()(z,35376,Y),c()(z,35375,Y),c()(z,35659,Y),c()(z,37154,Y),c()(z,35371,Y),c()(z,35658,Y),c()(z,35076,Y),c()(z,35077,Y),c()(z,35380,Y),z);var Q=(q={},c()(q,"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){R(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),c()(q,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){R(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),c()(q,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){R(!1)}}),c()(q,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){R(!1)},deleteQuery:function(){R(!1)},beginQuery:function(){R(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},getQueryObject:function(){}}),q),J={readBuffer:function(e,t,n){M(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i,o=function(e,t){return{webgl2:M(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),a=o.webgl2,u=o.ext;switch(r){case 35069:i=!!a&&void 0;break;case 35070:i=a||u?void 0:0}return void 0!==i?i:t(n,r)},getProgramParameter:function(e,t,n,r){if(!M(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){if(!M(e))switch(i){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(n,r,i)},getTexParameter:function(e,t,n,r){switch(r){case 34046:var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=K[n],i="function"==typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}};function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){e.luma=e.luma||{};var t=e.luma;return t.polyfilled||(!function(e){if("function"!=typeof e.createVertexArray){var t=e.getSupportedExtensions;e.getSupportedExtensions=function(){var e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};var n=e.getExtension;e.getExtension=function(t){var r=n.call(this,t);return r||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new X(this)),this.__OESVertexArrayObject))}}}(e),function(e){e.luma.extensions={};var t,n=$(e.getSupportedExtensions()||[]);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.luma[r]=e.getExtension(r)}}catch(e){n.e(e)}finally{n.f()}}(e),function(e,t){var n,r=$(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;"overrides"!==i&&te(e,{extension:i,target:e.luma,target2:e})}}catch(e){r.e(e)}finally{r.f()}}(e,Q),function(e,t){var n=t.target,r=t.target2;Object.keys(J).forEach((function(t){if("function"==typeof J[t]){var i=e[t]?e[t].bind(e):function(){},o=J[t].bind(null,e,i);n[t]=o,r[t]=o}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e}function te(e,t){var n=t.extension,r=t.target,i=t.target2,o=Q[n];R(o);for(var a=o.meta,u=(void 0===a?{}:a).suffix,c=void 0===u?"":u,s=e.getExtension(n),l=function(){var t=d[f],n="".concat(t).concat(c),a=null;"meta"===t||"function"==typeof e[t]||(s&&"function"==typeof s[n]?a=function(){return s[n].apply(s,arguments)}:"function"==typeof o[t]&&(a=o[t].bind(r))),a&&(r[t]=a,i[t]=a)},f=0,d=Object.keys(o);f<d.length;f++)l()}globalThis.polyfillContext=ee;var ne,re,ie,oe=n(6),ae=n.n(oe),ue=(ne={},c()(ne,3042,!1),c()(ne,32773,new Float32Array([0,0,0,0])),c()(ne,32777,32774),c()(ne,34877,32774),c()(ne,32969,1),c()(ne,32968,0),c()(ne,32971,1),c()(ne,32970,0),c()(ne,3106,new Float32Array([0,0,0,0])),c()(ne,3107,[!0,!0,!0,!0]),c()(ne,2884,!1),c()(ne,2885,1029),c()(ne,2929,!1),c()(ne,2931,1),c()(ne,2932,513),c()(ne,2928,new Float32Array([0,1])),c()(ne,2930,!0),c()(ne,3024,!0),c()(ne,36006,null),c()(ne,2886,2305),c()(ne,33170,4352),c()(ne,2849,1),c()(ne,32823,!1),c()(ne,32824,0),c()(ne,10752,0),c()(ne,32938,1),c()(ne,32939,!1),c()(ne,3089,!1),c()(ne,3088,new Int32Array([0,0,1024,1024])),c()(ne,2960,!1),c()(ne,2961,0),c()(ne,2968,4294967295),c()(ne,36005,4294967295),c()(ne,2962,519),c()(ne,2967,0),c()(ne,2963,4294967295),c()(ne,34816,519),c()(ne,36003,0),c()(ne,36004,4294967295),c()(ne,2964,7680),c()(ne,2965,7680),c()(ne,2966,7680),c()(ne,34817,7680),c()(ne,34818,7680),c()(ne,34819,7680),c()(ne,2978,[0,0,1024,1024]),c()(ne,3333,4),c()(ne,3317,4),c()(ne,37440,!1),c()(ne,37441,!1),c()(ne,37443,37444),c()(ne,35723,4352),c()(ne,36010,null),c()(ne,35977,!1),c()(ne,3330,0),c()(ne,3332,0),c()(ne,3331,0),c()(ne,3314,0),c()(ne,32878,0),c()(ne,3316,0),c()(ne,3315,0),c()(ne,32877,0),ne),ce=function(e,t,n){return t?e.enable(n):e.disable(n)},se=function(e,t,n){return e.hint(n,t)},le=function(e,t,n){return e.pixelStorei(n,t)};function fe(e){return Array.isArray(e)||ArrayBuffer.isView(e)}var de=(re={},c()(re,3042,ce),c()(re,32773,(function(e,t){return e.blendColor.apply(e,a()(t))})),c()(re,32777,"blendEquation"),c()(re,34877,"blendEquation"),c()(re,32969,"blendFunc"),c()(re,32968,"blendFunc"),c()(re,32971,"blendFunc"),c()(re,32970,"blendFunc"),c()(re,3106,(function(e,t){return e.clearColor.apply(e,a()(t))})),c()(re,3107,(function(e,t){return e.colorMask.apply(e,a()(t))})),c()(re,2884,ce),c()(re,2885,(function(e,t){return e.cullFace(t)})),c()(re,2929,ce),c()(re,2931,(function(e,t){return e.clearDepth(t)})),c()(re,2932,(function(e,t){return e.depthFunc(t)})),c()(re,2928,(function(e,t){return e.depthRange.apply(e,a()(t))})),c()(re,2930,(function(e,t){return e.depthMask(t)})),c()(re,3024,ce),c()(re,35723,se),c()(re,36006,(function(e,t){var n=M(e)?36009:36160;return e.bindFramebuffer(n,t)})),c()(re,2886,(function(e,t){return e.frontFace(t)})),c()(re,33170,se),c()(re,2849,(function(e,t){return e.lineWidth(t)})),c()(re,32823,ce),c()(re,32824,"polygonOffset"),c()(re,10752,"polygonOffset"),c()(re,35977,ce),c()(re,32938,"sampleCoverage"),c()(re,32939,"sampleCoverage"),c()(re,3089,ce),c()(re,3088,(function(e,t){return e.scissor.apply(e,a()(t))})),c()(re,2960,ce),c()(re,2961,(function(e,t){return e.clearStencil(t)})),c()(re,2968,(function(e,t){return e.stencilMaskSeparate(1028,t)})),c()(re,36005,(function(e,t){return e.stencilMaskSeparate(1029,t)})),c()(re,2962,"stencilFuncFront"),c()(re,2967,"stencilFuncFront"),c()(re,2963,"stencilFuncFront"),c()(re,34816,"stencilFuncBack"),c()(re,36003,"stencilFuncBack"),c()(re,36004,"stencilFuncBack"),c()(re,2964,"stencilOpFront"),c()(re,2965,"stencilOpFront"),c()(re,2966,"stencilOpFront"),c()(re,34817,"stencilOpBack"),c()(re,34818,"stencilOpBack"),c()(re,34819,"stencilOpBack"),c()(re,2978,(function(e,t){return e.viewport.apply(e,a()(t))})),c()(re,3333,le),c()(re,3317,le),c()(re,37440,le),c()(re,37441,le),c()(re,37443,le),c()(re,3330,le),c()(re,3332,le),c()(re,3331,le),c()(re,36010,(function(e,t){return e.bindFramebuffer(36008,t)})),c()(re,3314,le),c()(re,32878,le),c()(re,3316,le),c()(re,3315,le),c()(re,32877,le),c()(re,"framebuffer",(function(e,t){var n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)})),c()(re,"blend",(function(e,t){return t?e.enable(3042):e.disable(3042)})),c()(re,"blendColor",(function(e,t){return e.blendColor.apply(e,a()(t))})),c()(re,"blendEquation",(function(e,t){t=fe(t)?t:[t,t],e.blendEquationSeparate.apply(e,a()(t))})),c()(re,"blendFunc",(function(e,t){t=fe(t)&&2===t.length?[].concat(a()(t),a()(t)):t,e.blendFuncSeparate.apply(e,a()(t))})),c()(re,"clearColor",(function(e,t){return e.clearColor.apply(e,a()(t))})),c()(re,"clearDepth",(function(e,t){return e.clearDepth(t)})),c()(re,"clearStencil",(function(e,t){return e.clearStencil(t)})),c()(re,"colorMask",(function(e,t){return e.colorMask.apply(e,a()(t))})),c()(re,"cull",(function(e,t){return t?e.enable(2884):e.disable(2884)})),c()(re,"cullFace",(function(e,t){return e.cullFace(t)})),c()(re,"depthTest",(function(e,t){return t?e.enable(2929):e.disable(2929)})),c()(re,"depthFunc",(function(e,t){return e.depthFunc(t)})),c()(re,"depthMask",(function(e,t){return e.depthMask(t)})),c()(re,"depthRange",(function(e,t){return e.depthRange.apply(e,a()(t))})),c()(re,"dither",(function(e,t){return t?e.enable(3024):e.disable(3024)})),c()(re,"derivativeHint",(function(e,t){e.hint(35723,t)})),c()(re,"frontFace",(function(e,t){return e.frontFace(t)})),c()(re,"mipmapHint",(function(e,t){return e.hint(33170,t)})),c()(re,"lineWidth",(function(e,t){return e.lineWidth(t)})),c()(re,"polygonOffsetFill",(function(e,t){return t?e.enable(32823):e.disable(32823)})),c()(re,"polygonOffset",(function(e,t){return e.polygonOffset.apply(e,a()(t))})),c()(re,"sampleCoverage",(function(e,t){return e.sampleCoverage.apply(e,a()(t))})),c()(re,"scissorTest",(function(e,t){return t?e.enable(3089):e.disable(3089)})),c()(re,"scissor",(function(e,t){return e.scissor.apply(e,a()(t))})),c()(re,"stencilTest",(function(e,t){return t?e.enable(2960):e.disable(2960)})),c()(re,"stencilMask",(function(e,t){var n=t=fe(t)?t:[t,t],r=ae()(n,2),i=r[0],o=r[1];e.stencilMaskSeparate(1028,i),e.stencilMaskSeparate(1029,o)})),c()(re,"stencilFunc",(function(e,t){var n=t=fe(t)&&3===t.length?[].concat(a()(t),a()(t)):t,r=ae()(n,6),i=r[0],o=r[1],u=r[2],c=r[3],s=r[4],l=r[5];e.stencilFuncSeparate(1028,i,o,u),e.stencilFuncSeparate(1029,c,s,l)})),c()(re,"stencilOp",(function(e,t){var n=t=fe(t)&&3===t.length?[].concat(a()(t),a()(t)):t,r=ae()(n,6),i=r[0],o=r[1],u=r[2],c=r[3],s=r[4],l=r[5];e.stencilOpSeparate(1028,i,o,u),e.stencilOpSeparate(1029,c,s,l)})),c()(re,"viewport",(function(e,t){return e.viewport.apply(e,a()(t))})),re);function he(e,t,n){return void 0!==t[e]?t[e]:n[e]}var ve={blendEquation:function(e,t,n){return e.blendEquationSeparate(he(32777,t,n),he(34877,t,n))},blendFunc:function(e,t,n){return e.blendFuncSeparate(he(32969,t,n),he(32968,t,n),he(32971,t,n),he(32970,t,n))},polygonOffset:function(e,t,n){return e.polygonOffset(he(32824,t,n),he(10752,t,n))},sampleCoverage:function(e,t,n){return e.sampleCoverage(he(32938,t,n),he(32939,t,n))},stencilFuncFront:function(e,t,n){return e.stencilFuncSeparate(1028,he(2962,t,n),he(2967,t,n),he(2963,t,n))},stencilFuncBack:function(e,t,n){return e.stencilFuncSeparate(1029,he(34816,t,n),he(36003,t,n),he(36004,t,n))},stencilOpFront:function(e,t,n){return e.stencilOpSeparate(1028,he(2964,t,n),he(2965,t,n),he(2966,t,n))},stencilOpBack:function(e,t,n){return e.stencilOpSeparate(1029,he(34817,t,n),he(34818,t,n),he(34819,t,n))}},ge={enable:function(e,t){return e(c()({},t,!0))},disable:function(e,t){return e(c()({},t,!1))},pixelStorei:function(e,t,n){return e(c()({},t,n))},hint:function(e,t,n){return e(c()({},t,n))},bindFramebuffer:function(e,t,n){var r;switch(t){case 36160:return e((r={},c()(r,36006,n),c()(r,36010,n),r));case 36009:return e(c()({},36006,n));case 36008:return e(c()({},36010,n));default:return null}},blendColor:function(e,t,n,r,i){return e(c()({},32773,new Float32Array([t,n,r,i])))},blendEquation:function(e,t){var n;return e((n={},c()(n,32777,t),c()(n,34877,t),n))},blendEquationSeparate:function(e,t,n){var r;return e((r={},c()(r,32777,t),c()(r,34877,n),r))},blendFunc:function(e,t,n){var r;return e((r={},c()(r,32969,t),c()(r,32968,n),c()(r,32971,t),c()(r,32970,n),r))},blendFuncSeparate:function(e,t,n,r,i){var o;return e((o={},c()(o,32969,t),c()(o,32968,n),c()(o,32971,r),c()(o,32970,i),o))},clearColor:function(e,t,n,r,i){return e(c()({},3106,new Float32Array([t,n,r,i])))},clearDepth:function(e,t){return e(c()({},2931,t))},clearStencil:function(e,t){return e(c()({},2961,t))},colorMask:function(e,t,n,r,i){return e(c()({},3107,[t,n,r,i]))},cullFace:function(e,t){return e(c()({},2885,t))},depthFunc:function(e,t){return e(c()({},2932,t))},depthRange:function(e,t,n){return e(c()({},2928,new Float32Array([t,n])))},depthMask:function(e,t){return e(c()({},2930,t))},frontFace:function(e,t){return e(c()({},2886,t))},lineWidth:function(e,t){return e(c()({},2849,t))},polygonOffset:function(e,t,n){var r;return e((r={},c()(r,32824,t),c()(r,10752,n),r))},sampleCoverage:function(e,t,n){var r;return e((r={},c()(r,32938,t),c()(r,32939,n),r))},scissor:function(e,t,n,r,i){return e(c()({},3088,new Int32Array([t,n,r,i])))},stencilMask:function(e,t){var n;return e((n={},c()(n,2968,t),c()(n,36005,t),n))},stencilMaskSeparate:function(e,t,n){return e(c()({},1028===t?2968:36005,n))},stencilFunc:function(e,t,n,r){var i;return e((i={},c()(i,2962,t),c()(i,2967,n),c()(i,2963,r),c()(i,34816,t),c()(i,36003,n),c()(i,36004,r),i))},stencilFuncSeparate:function(e,t,n,r,i){var o;return e((o={},c()(o,1028===t?2962:34816,n),c()(o,1028===t?2967:36003,r),c()(o,1028===t?2963:36004,i),o))},stencilOp:function(e,t,n,r){var i;return e((i={},c()(i,2964,t),c()(i,2965,n),c()(i,2966,r),c()(i,34817,t),c()(i,34818,n),c()(i,34819,r),i))},stencilOpSeparate:function(e,t,n,r,i){var o;return e((o={},c()(o,1028===t?2964:34817,n),c()(o,1028===t?2965:34818,r),c()(o,1028===t?2966:34819,i),o))},viewport:function(e,t,n,r,i){return e(c()({},2978,[t,n,r,i]))}},be=function(e,t){return e.isEnabled(t)},pe=(ie={},c()(ie,3042,be),c()(ie,2884,be),c()(ie,2929,be),c()(ie,3024,be),c()(ie,32823,be),c()(ie,32926,be),c()(ie,32928,be),c()(ie,3089,be),c()(ie,2960,be),c()(ie,35977,be),ie);function ye(e){for(var t in e)return!1;return!0}function me(e,t){if(e===t)return!0;var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return!1}function xe(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function Ae(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=n.apply(void 0,[e.state._updateCache].concat(i)),u=a.valueChanged,c=a.oldValue;return u&&r.apply(void 0,i),c},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function we(e){var t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}var _e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.copyState,i=void 0!==r&&r,o=n.log,a=void 0===o?function(){}:o;l()(this,e),this.gl=t,this.program=null,this.stateStack=[],this.enable=!0,this.cache=i?ke(t):Object.assign({},ue),this.log=a,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return d()(e,[{key:"push",value:function(){this.stateStack.push({})}},{key:"pop",value:function(){R(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];je(this.gl,e),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t,n=!1,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e){R(void 0!==i);var o=e[i],a=this.cache[i];me(o,a)||(n=!0,t=a,r&&!(i in r)&&(r[i]=a),this.cache[i]=o)}return{valueChanged:n,oldValue:t}}}]),e}();function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable,r=void 0===n||n,i=t.copyState;if(R(void 0!==i),!e.state){var o=globalThis.polyfillContext;for(var a in o&&o(e),e.state=new _e(e,{copyState:i}),we(e),ge){var u=ge[a];Ae(e,a,u)}xe(e,"getParameter"),xe(e,"isEnabled")}return e.state.enable=r,e}function Oe(e){e.state||Ee(e,{copyState:!1}),e.state.push()}function Se(e){R(e.state),e.state.pop()}function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){if(R(V(e),"setParameters requires a WebGL context"),!ye(t)){var n={};for(var r in t){var i=Number(r),o=de[r];o&&("string"==typeof o?n[o]=!0:o(e,t[r],i))}var a=e.state&&e.state.cache;if(a)for(var u in n){(0,ve[u])(e,t,a)}}}function ke(e,t){if("number"==typeof(t=t||ue)){var n=t,r=pe[n];return r?r(e,n):e.getParameter(n)}var i,o={},a=Le(Array.isArray(t)?t:Object.keys(t));try{for(a.s();!(i=a.n()).done;){var u=i.value,c=pe[u];o[u]=c?c(e,Number(u)):e.getParameter(Number(u))}}catch(e){a.e(e)}finally{a.f()}return o}function Be(e){je(e,ue)}function Ce(e,t,n){if(ye(t))return n(e);var r,i=t.nocatch,o=void 0===i||i;if(Oe(e),je(e,t),o)r=n(e),Se(e);else try{r=n(e)}finally{Se(e)}return r}function Fe(e){var t=e.luma;if(e.canvas&&t){var n=t.canvasSizeInfo.clientWidth;return n?e.drawingBufferWidth/n:1}return 1}function Ge(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Fe(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return Re(t,r,i,o,n)}function Ie(e){var t="undefined"==typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function Re(e,t,n,r,i){var o,a=Ve(e[0],t,n),u=Me(e[1],t,r,i),c=Ve(e[0]+1,t,n),s=c===n-1?c:c-1;return c=Me(e[1]+1,t,r,i),i?(o=u,u=c=0===c?c:c+1):o=c===r-1?c:c-1,{x:a,y:u,width:Math.max(s-a+1,1),height:Math.max(o-u+1,1)}}function Ve(e,t,n){return Math.min(Math.round(e*t),n-1)}function Me(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}var We=Object(v.a)(),Pe=We&&"undefined"!=typeof document,Ne={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(We,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils");var t,n=e=Object.assign({},Ne,e),r=n.width,i=n.height;function o(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}e.onError=o;var a=e,u=a.canvas,c=qe({canvas:u,width:r,height:i,onError:o});return(t=Xe(c,e))?(Ye(t=He(t,e)),t):null}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||Ke(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var n=t=Object.assign({},Ne,t),r=n.manageState,i=n.debug;return r&&Ee(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I.log.apply(I,[1].concat(t))()}}),We&&i&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),I.level=Math.max(I.level,1)):I.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function Ue(e){var t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas){var n=Ie(t.useDevicePixels);Qe(e,n,t)}else{var r=e.getExtension("STACKGL_resize_drawingbuffer");r&&"width"in t&&"height"in t&&r.resize(t.width,t.height)}}function Xe(e,t){var n=t.onError,r=null,i=function(e){return r=e.statusMessage||r};e.addEventListener("webglcontextcreationerror",i,!1);var o=t.webgl1,a=void 0===o||o,u=t.webgl2,c=void 0===u||u,s=null;return c&&(s=(s=s||e.getContext("webgl2",t))||e.getContext("experimental-webgl2",t)),a&&(s=(s=s||e.getContext("webgl",t))||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),s?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),s):n("Failed to create ".concat(c&&!a?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function qe(e){var t,n=e.canvas,r=e.width,i=void 0===r?800:r,o=e.height,a=void 0===o?600:o,u=e.onError;"string"==typeof n?(Pe&&"complete"===document.readyState||u("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)):n?t=n:((t=document.createElement("canvas")).id="lumagl-canvas",t.style.width=Number.isFinite(i)?"".concat(i,"px"):"100%",t.style.height=Number.isFinite(a)?"".concat(a,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function Ye(e){var t=M(e)?"WebGL2":"WebGL1",n=Ue(e),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=e.debug?" debug":"";I.info(1,"".concat(t).concat(i," context ").concat(r))()}function Ke(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function Qe(e,t,n){var r="width"in n?n.width:e.canvas.clientWidth,i="height"in n?n.height:e.canvas.clientHeight;r&&i||(I.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,r=e.canvas.width||1,i=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};var o=e.luma.canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==i||o.devicePixelRatio!==t){var a=t,u=Math.floor(r*a),c=Math.floor(i*a);e.canvas.width=u,e.canvas.height=c,e.drawingBufferWidth===u&&e.drawingBufferHeight===c||(I.warn("Device pixel ratio clamped")(),a=Math.min(e.drawingBufferWidth/r,e.drawingBufferHeight/i),e.canvas.width=Math.floor(r*a),e.canvas.height=Math.floor(i*a)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:t})}}}])}));